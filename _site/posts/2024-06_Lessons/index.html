<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.555">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="William Becker">
<meta name="dcterms.date" content="2024-07-10">

<title>William Becker - 12 Lessons learned from four years of freelancing</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">William Becker</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../posts/index.html"> 
<span class="menu-text">Blog</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../projects/index.html"> 
<span class="menu-text">Projects</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../publications/index.html"> 
<span class="menu-text">Publications</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/bluefoxr/"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/webecker/"> <i class="bi bi-linkedin" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">12 Lessons learned from four years of freelancing</h1>
            <p class="subtitle lead"></p><p>Nuggets of wisdom?</p><p></p>
                                <div class="quarto-categories">
                <div class="quarto-category">Meta</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>William Becker </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">July 10, 2024</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<p>As of May I started an exciting new chapter in my career-voyage, working as a training specialist in machine learning at the <a href="https://www.ecmwf.int/">ECMWF</a> in Bonn. This is a really nice move to get back towards ML and my love of training, and so far it is has been super interesting to learn about all the work based on deep neural networks going on there.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="bonn.jpg" class="img-fluid figure-img"></p>
<figcaption>When the sun‚Äôs out, Bonn is rather nice</figcaption>
</figure>
</div>
<p>On the other hand, I‚Äôve had to wrap up my freelance work, at least for the moment. Freelancing has been a hugely positive experience for me, and has taught me a lot of skills that would have been difficult to learn from within a big organisation. So, partly to celebrate a new step in my career, partly to share some possible nuggets of wisdom that I‚Äôve gained over the last few years, and partly as some notes to myself in case I come back to freelancing at some point, here are my 12 Lessons Learned. This is probably the most click-baity title I have posted under so far, but I‚Äôm afraid we‚Äôll all have to live with that :)</p>
<p>So without further ado, here we go.</p>
<section id="get-the-basics-right" class="level2">
<h2 class="anchored" data-anchor-id="get-the-basics-right">Get the basics right üî§</h2>
<p>If you want to do well as a freelancer, get the basics right.</p>
<p>Put yourselves in the shoes of a customer (often, in my case, international organisations and consultancies): what do they want when they outsource work? I think, in general what they want is:</p>
<ul>
<li>The work to get done, to a high standard</li>
<li>Deadlines respected</li>
<li>An easy and respectful working relationship (NO DRAMAS!)</li>
<li>Good communication</li>
</ul>
<p>Of course there are other requirements that are specific to the task, and different people will have different priorities. But I would say that those are the main things to pay attention to. It‚Äôs a pretty simple formula really, but sometimes these things can go astray. For example, if you don‚Äôt manage your time and workload effectively, you might easily miss deadlines - this creates extra work and uncertainty for your customers, and if it happens too often, can damage your reputation (which is key, see below). Equally, just answering emails within a good time frame is important, otherwise customers will waste time chasing you up. All of these simple things contribute to a smooth experience which is good for everyone.</p>
</section>
<section id="networking-is-key-but-no-need-to-shout" class="level2">
<h2 class="anchored" data-anchor-id="networking-is-key-but-no-need-to-shout">Networking is key, but no need to shout ü§´</h2>
<p>Your network, and your professional reputation, is essential in bringing in new contracts and new clients. Most of my work came through positive referrals from other clients, and this meant I was lucky enough to never have to go out and look for work - work always came to me.</p>
<p>Surprisingly though, I don‚Äôt really do any ‚Äúactive‚Äù networking. I don‚Äôt cold-email potential clients, and I don‚Äôt sidle up to senior figures at conferences with the hope of scoring a new contract. I‚Äôm not saying there‚Äôs anything wrong with doing that at all, but it‚Äôs just not really my style (insert your preferred joke here about having no style). On the other hand, I am happy and genuinely interested to chat to other people about most things. And I am very open minded about taking on new work, and I love starting new projects with new people.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="wows.png" class="img-fluid figure-img" style="width:80.0%"></p>
<figcaption>No need to get too intense</figcaption>
</figure>
</div>
<p>Above all though, I think that if you Get The Basics Right (see above), and do that consistently, your work will speak for itself, and your network will grow as you acquire new contracts through referrals. I like to think of this concept as ‚Äúquiet networking‚Äù: do a good job, be friendly and open minded, don‚Äôt cause any dramas, and people will be happy to connect with you.</p>
</section>
<section id="say-yes" class="level2">
<h2 class="anchored" data-anchor-id="say-yes">Say yes üëç</h2>
<p>This leads nicely into the next point: say YES to things. What I mean by that is be open-minded to new work, and don‚Äôt be afraid to branch out a bit and step outside of your comfort zone. In doing so you will learn a lot, build up your capacity and your network, and this will bring in more work and diversify your business.</p>
<p>To give an example, when I finished working at the JRC in 2020 I had a mixed bag of skills in policy, statistics and research. One of my first big contracts was to build an <a href="https://www.willbecker.me/projects/coinr/">R package for composite indicators</a>. At that time, my programming skills in R were actually fairly mediocre at best, and I could perhaps have turned the work down on the basis of ‚Äúnot being a programmer‚Äù. But looking at it from another angle, it was a great opportunity to learn to <em>be</em> a programmer and get paid to do it! A few years later I would now consider myself to be a fairly expert-level programmer in R, and this has led into all kind of interesting new projects.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="rocky.png" class="img-fluid figure-img"></p>
<figcaption>Get out there and say yes!</figcaption>
</figure>
</div>
<p>Similarly, in 2023 I branched out into <a href="https://www.willbecker.me/projects/a2sit/">building web-apps using Shiny</a>, based on some dabbling that I had done a year or two earlier. I took on two big contracts to build Shiny apps and learned an enormous amount about Shiny, HTML, CSS in the process. Again, this diversified my business, but was also a really interesting new branch of work.</p>
<p>The point here is not to box yourself in to one narrowly-defined profession. You <em>can</em> learn new things. Learning new things is fun, and it pays back to you!</p>
</section>
<section id="say-no" class="level2">
<h2 class="anchored" data-anchor-id="say-no">Say no üëé</h2>
<p>OK, so say yes to things, except when you have to say no! But when to say no? As an optimist, I don‚Äôt often say no to things, but sometimes this is important. I‚Äôll give two examples here.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="noway.jpg" class="img-fluid figure-img"></p>
<figcaption>No way</figcaption>
</figure>
</div>
<p>The first is to enforce contractual boundaries when it is necessary. Most freelance contracts will come with a set of deliverables attached, which are used to estimate the number of working days necessary, and in turn the cost of the work (AKA, what you get paid). Just as it is important for you to make sure you deliver the deliverables (the hint is in the name), it is important for your client to also respect that strictly speaking, you are contracted for those deliverables, and not for any other tasks that they might dream up later on.</p>
<p>With that said, it is very hard to anticipate exactly what needs doing in a contract, so leaving a bit of wiggle room on both sides is important. Don‚Äôt nit-pick over small tasks that were not explicitly specified, otherwise your client will nit-pick back at you. But if large tasks appear that were not specified in the contract, it may be time to put your foot down. Always do this politely: kindly remind the client what was specified in the contract, be clear that you are flexible up to a point, but the task is too large to incorporate in the present contract, and be proactive to discuss how to get the extra tasks done (e.g.&nbsp;by extending or drawing up a new contract). You can also consider swapping one deliverable for another: the aim is to seek a way forward that gets the work done for the client, but also gets you paid fairly for your time.</p>
<p>It‚Äôs important to enforce these boundaries because if you don‚Äôt, they are likely to happen more often, but also because it is perfectly fair and reasonable. And in most cases, it is probably just that the client has forgotten what the deliverables were, and just needs a friendly reminder.</p>
<p>The other NO example is saying no to new contracts. This one deserves a point on its own, so I‚Äôll see you in the next paragraph‚Ä¶</p>
</section>
<section id="find-your-balance" class="level2">
<h2 class="anchored" data-anchor-id="find-your-balance">Find your balance üßò</h2>
<p>Hello again! As I was saying, sometimes you have to turn down contracts.</p>
<p>If you work for a big company or organisation, it‚Äôs your manager‚Äôs job to make sure you have enough work to keep you busy, but not so much that you you are overloaded. Of course, you also have a say in the matter, but often it is possible to redistribute work to other team members if you become overloaded. Not so when you are working freelance! Unless you team up with other people, you are responsible for 100% of the deliverables in contracts you have open, in sickness and in health.</p>
<p>This means you have to be very careful not to take on more work than you can manage, otherwise you will miss deadlines and/or deliver sub-par work. And you need to build in a little wiggle room for possible illness and other unforeseen delays.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="shaolin.jpg" class="img-fluid figure-img"></p>
<figcaption>Balance is important</figcaption>
</figure>
</div>
<p>It takes experience to know how much work you can take on and still be comfortable. It‚Äôs all about finding your balance, your own sweet spot, and if you feel you are overdoing it, don‚Äôt be afraid to turn down work - in any case, often clients will be very reasonable and will offer you more work down the line if you want it.</p>
</section>
<section id="know-your-worth" class="level2">
<h2 class="anchored" data-anchor-id="know-your-worth">Know your worth üí∏</h2>
<p>Another thing that only comes with experience is understanding how much you can charge for your work. Especially at the beginning, it is easy to underestimate or even overestimate your potential daily rate if you haven‚Äôt had to specify that before. Keep in mind that some large organisations have fixed rates for consultants, whereas for others, it is completely flexible. Also, daily rates vary a lot based on the type of work and where you are.</p>
<p><img src="scrooge_mcduck.jpg" class="img-fluid"></p>
<p>If you know other people working on similar projects, don‚Äôt be shy to ask around a bit to get a ballpark figure. While you might be tempted to set your rate lower at the beginning, just keep in mind that some projects can run over several years, and it can be tricky to change your daily rate with an existing client once it has been established, so better to get it in the right range from the outset! Don‚Äôt forget that your daily rate has to include things like admin, contract management, sorting out IT problems and other niggling bits and pieces that you might not consider at first glance.</p>
<p>Keep in mind though that although daily rate is important, what really matters is the total that you get paid, and the amount of your professional time you have to spend on it. Some organisations may have a lower fixed daily rate, but are prepared to allocate more days to make up for that.</p>
</section>
<section id="spot-the-synergies" class="level2">
<h2 class="anchored" data-anchor-id="spot-the-synergies">Spot the synergies üçª</h2>
<p>‚ÄúSynergies‚Äù is a dangerous word because, at least for me, it sounds like a vacuous buzzword that is carelessly tossed around in management meetings to score a few points, without necessarily having a lot of substance behind it.</p>
<p><img src="bee.jpg" class="img-fluid"></p>
<p>Nevertheless, synergies are a real and useful thing and quite handy if you can spot them. As a freelancer, if you can work on separate projects that involve similar types of work, you can save yourself time and potentially improve your work for your clients on both projects. In my work, for example, I have often been able to reuse parts of my code, data pipelines and workflows for similar projects. With coding especially, if you generalise the code you are writing, it takes a little more time the first time around, but pays dividends down the line (see automation later).</p>
<p>To give a couple of examples, when developing the COINr package, I was simultaneously building a similar composite indicator R package for WIPO to calculate the Global Innovation Index. Although the two packages are distinct and have different aims, I have constantly passed concepts and code between the two, for the enrichment of both. Similarly, when working on Shiny apps I developed a library of accessory functions which make life easier for a GUI to work with COINr - this library was shared between the two projects and expanded on both.</p>
<p>In general, synergies can allow you to deliver better-quality work in a shorter time, which obviously tends to make your clients quite happy.</p>
</section>
<section id="time-or-deliverables" class="level2">
<h2 class="anchored" data-anchor-id="time-or-deliverables">Time or deliverables? ü§∑‚Äç‚ôÇÔ∏è</h2>
<p>I‚Äôve worked on two main types of contracts: those that are focused on deliverables, and those that are focused on time. It‚Äôs important that everyone is clear which type of contract you are working on.</p>
<p>In practice all contracts come with deliverables. But in some cases, the client deliberately leaves the deliverables fairly vague and contracts you for e.g.&nbsp;20 days of your professional time, in which you can negotiate work between you. When the 20 days are up, your contract is finished: in other words, the contract is considered complete based on the number of days, and not really on the deliverables.</p>
<p>In a deliverables-focused contract, you agree to a set of deliverables, and a cost. The contract may or may not specify the number of working days, but in either case you are required to complete the deliverables to complete the contract, and the client is not so interested in how long you worked, as long as everything gets done.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="scroll.PNG" class="img-fluid figure-img" style="width:80.0%"></p>
<figcaption>Contracts are important but hard to get right</figcaption>
</figure>
</div>
<p>There are pros and cons of both of these. In the first case you have the security that after working 20 days you get paid for exactly 20 days of work. The second case is more risky in that there is the chance your work takes longer than your cost estimate, and you still have to deliver. However, it goes both ways: if you are efficient, it may also possible to complete the work more quickly, which effectively increases your daily rate. Obviously you still have to ensure to deliver high-quality work - if you rush it and do a sloppy job then you may damage the relationship with your client and consequently, your all-important professional reputation.</p>
<p>Where you definitely don‚Äôt want to be is in a mix between these two contract types, which is why everything needs to be clear up front. The danger is (from the contractor perspective) that you may think you are on a time-focused contract, and accept all kinds of arbitrary work from the client, but after your allocated days have been spent, the client suddenly starts demanding the completion of contract deliverables. Likewise you may have completed all deliverables efficiently on an ostensibly deliverable-focused contract, after which the client wants to use any remaining working days on other projects.</p>
<p>It has to be one or the other: either stick the the deliverables, or the time, but don‚Äôt switch between them. This is something that is worth clarifying explicitly with your client when drawing up the contract.</p>
</section>
<section id="manage-objectives-and-expectations" class="level2">
<h2 class="anchored" data-anchor-id="manage-objectives-and-expectations">Manage objectives and expectations üíò</h2>
<p>If you are doing technical work for your clients (e.g.&nbsp;data science), sometimes your client may not have a perfectly clear idea of what they want from you. This is perfectly normal because they don‚Äôt know everything about what you can and can‚Äôt do, what tools and options are out there, and their expertise is often in a different field to yours. This is why it is worth spending some time nailing down the objectives and expected outcomes of the project right at the beginning.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="robinhood.jpg" class="img-fluid figure-img"></p>
<figcaption>Aim carefully</figcaption>
</figure>
</div>
<p>One thing that has worked for me is to draw up my own proposal which states what it is I propose to do under the contract. This sets out your understanding of the work, and ensures you are on the same page as them from the outset. It also acts as a reference in case things go astray at any point.</p>
<p>Equally important is to check in regularly with the client, even if they don‚Äôt specifically request it. If not, you might spend a couple of months working hard on your deliverables, only to find there was a fundamental misunderstanding between you and the client, and you have gone spectacularly off track.</p>
<p>It all comes back to good communication: agreeing and clearly stating objectives and outcomes, and sharing and discussing results as the project evolves.</p>
</section>
<section id="automation-and-outsourcing" class="level2">
<h2 class="anchored" data-anchor-id="automation-and-outsourcing">Automation and outsourcing üíª</h2>
<p>One of the nice things about freelancing is that you are usually free to manage your tools and methods as you like. This opens up a lot of possibilities for automation and time-saving.</p>
<p>On the admin side of things (yes unfortunately freelancing comes with a fair dose of admin) get a system set up early on for tracking your time, active and upcoming contracts, invoices and payments, and so on. I did this one in Excel and it took some iterations to get something that works well for my needs. However, once it‚Äôs up and running, it saves a lot of time and is essential in keeping track of your time and money. Most likely you can find apps that deal with this as well, if you prefer to go down that route.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="robots.jpg" class="img-fluid figure-img"></p>
<figcaption>It is the year 2000‚Ä¶</figcaption>
</figure>
</div>
<p>For handling tax, I‚Äôd recommend finding a good accountant. It costs money, but unless you love wading through tax regulations, it‚Äôs money very well spent. Actually here in Italy, almost no one dares to do their own taxes because it‚Äôs a minefield of obscure rules, arcane jargon and traps that you can unwittingly fall into and get busted for several years in the future, so an accountant is not even optional in practice.</p>
<p>Overall, consider that your time is valuable, and if you spend it on things that are not your profession, you might do well to outsource that work, unless you specifically want to branch out into that area.</p>
<p>Getting your files well organised also helps a lot, and using cloud storage such as OneDrive allows you to access your work from anywhere, even your phone, and also acts as an all-important backup in case your laptop has a meltdown.</p>
<p>Finally, if you do much coding, you can really optimise things by generalising your code so that it can be reused easily in other projects. For example, I developed the <a href="https://github.com/bluefoxr/iCOINr">iCOINr package</a> which contains functions for generating interactive plots related to composite indicators which I generated for one project and reused in several others. I also have libraries of utility functions which quickly perform common tasks, which I can can import into any relevant project.</p>
</section>
<section id="finally-look-after-yourself" class="level2">
<h2 class="anchored" data-anchor-id="finally-look-after-yourself">Finally: Look after yourself ü§ó</h2>
<p>Last but by far not the least: take good care of yourself. You are your number one resource and asset, so treat yourself as such.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="heart.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<p>That means: don‚Äôt work yourself to death. Make sure you stay reasonably fit and healthy. Eat well. Get outside. Meet people in person where possible, rather than online. Take holidays, enjoy doing whatever it is that you like to do in life!</p>
<p>This advice might sound a little glib, but when you work for yourself it easy to overwork. One reason is that as we have discussed, it‚Äôs hard to get exactly the right amount of work, and often the error is on the ‚Äúslightly too much‚Äù side of things. But also, since your income is linked to the amount of work that you do, it is tempting to work extra in the evenings to tick off some tasks and earn some extra money. Although I‚Äôve been guilty of this from time to time, I don‚Äôt think it is a good idea in general and I try to avoid it. Life is about much more than work, and even from a work point of view you are not doing yourself any favours by running yourself into the ground.</p>
<p>Speaking of which, I‚Äôm now off for a bike ride :)</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "Óßã";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
<p>Copyright 2024, William Becker</p>
</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>